\documentclass[10pt]{article}
\usepackage{url}
\usepackage{cbic2011}
\usepackage{times,amsfonts,enumerate,amssymb,amsmath,epsfig,bm,cite}
\usepackage{color}
\usepackage[latin1]{inputenc}
\usepackage[OT1]{fontenc}
\usepackage[brazil]{babel}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Definicao das dimensoes da pagina

\usepackage[a4paper,
hmargin={2cm,1cm},
vmargin={2cm,2cm},
footskip=5mm]{geometry}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hyphenation{IEEE}

\newcommand\mf[1]{\text{\boldmath$#1$}}

\begin{document}
\title{Exemplo prático de Refatoração de Bancos de Dados Relacionais\\ \smallskip
\small{TRABALHO DE CONCLUSÃO DE CURSO}}

\author{
	{\bf Fabrízio de Royes Mello }\\ 
	{\normalsize Pós-Graduação em Tecnologias Aplicadas a Sistemas de Informação com Métodos Ágeis} \\
	{\normalsize Centro Universitário Ritter Dos Reis - UNIRITTER} \\
	{\normalsize fabriziomello@gmail.com}  \\ \\
	%
	{\bf Guilherme Silva de Lacerda } \\
	{\normalsize Professor Orientador}\\
	{\normalsize guilherme\_lacerda@uniritter.edu.br} \\
}
\maketitle


\begin{abstract}
\maketitle
\noindent
\small
%TEXTO DO RESUMO (em português}
Este trabalho tem como objetivo demonstrar de forma prática o processo de refatoração de um banco de dados usando como exemplo um modelo simplificado

\noindent
%PALAVRAS-CHAVE} 
\textbf{Palavras-chave}: PC1, PC2, PC3 e PC4.
\end{abstract}

\maketitle
\section{Introdução} \label{sec:intro}

	Uma estrutura de um banco de dados, diferentemente da estrutura de um software, tende a deteriorar naturalmente com o passar do tempo. Dentre várias causas de deterioração podemos citar o crescimento progressivo do volume de dados devido ao aumento natural de usuários que o utilizam e também ao seu próprio tempo de uso, tornando um modelo de dados que no início era eficiente para solução proposta em um modelo ineficiente e defasado.

	Essa deterioração natural aliada a mudanças em requisitos de negócio exigem modificações e refatorações tanto no software que os implementa quanto em seus bancos de dados. Entretanto a refatoração de um banco de dados é mais complexa que a de um software devido aos seguintes motivos: (i) além de manter comportamento também é necessário manter as informações (dados) e (ii) acoplamento com diversas origens (outras aplicações, \textit{frameworks}, integrações, etc) \cite{Ambler:RefactoringDatabases}.

	Devido a essas dificuldades a evolução de uma estrutura de banco de dados torna-se um desafio, ocorrendo assim um fenômeno conhecido como \textit{Bad Smells} (mal cheiros), da mesma forma que ocorre com o código de um software. Em software um \textit{code smell} (\textit{bad smell}) é uma categoria comum de problema no código fonte que indica a necessidade de refatoração \cite{Fowler:Refatoracao}, e o mesmo ocorre com bancos de dados, onde são chamados \textit{database smells} \cite{Ambler:RefactoringDatabases}.

	O presente trabalho consiste em demonstrar um exemplo completo de \textit{database refactoring} que pode ser utilizado tanto para evolução do \textit{schema} de um banco de dados quanto para eliminação de \textit{smells}.


\section{Revisão de Literatura}\label{sec:revliteratura}

\subsection{Database Refactoring}
	Refatoração de código (\textit{Code Refactoring}) é uma disciplina/processo que consiste em melhorar a estrutura interna de um software sem modificar seu comportamento externo \cite{Fowler:Refatoracao}, e uma Refatoração de Banco de Dados (\textit{Database Refactoring}) parte do mesmo princípio, porém além de manter o comportamento externo também deve manter a semântica da informação que ele mantém/armazena, e por esse motivo é considerada mais difícil \cite{Ambler:RefactoringDatabases}.

	Pode-se então considerar que um \textit{Database Refactoring} é uma mudança disciplinada na estrutura de uma base de dados que não altera sua semântica, porém melhora seu projeto e minimiza a introdução de dados inconsistentes \cite{Mello:DatabaseRefactoring}.

	Conforme última definição minimizar a introdução de dados inconsistentes é um dos grandes objetivos de se realizar uma refatoração na estrutura de um banco de dados, ou seja, melhorar o desing atual para melhorar a consistência dos dados e também a qualidade dos novos dados que serão adicionados.

	E esta tarefa não é simples, pois existe um fator preponderante no que diz respeito a dificuldade de execução deste tipo de refatoração que é o \textbf{acoplamento}.

\subsubsection{Acoplamento}
	É a medida de dependência entre dois elementos. Quanto mais acoplados dois elementos estiverem, maior a chance que a mudança em um implique na mudança em outro \cite{Wikipedia:Coupling}. 

	Quanto mais acoplado estiver o banco de dados, ou seja, dependente de diversas aplicações externas, mais difícil será a aplicação de uma refatoração\cite{Ambler:RefactoringDatabases}.
	
	Single-Database Application
	
	Multi-Application Database
	
\subsubsection{Processo de refatoração}
	Um processo é um conjunto organizado de atividades com um objetivo em comum. Executar um \textit{database refactoring} em um cenário \textit{Single-Database Application} ou \textit{Multi-Application Database} requer um processo, por mais simples que seja. A grande diferença na execução em ambos cenários é que no caso do \textit{Multi-Application Database} o período de transição poderá ser mais longo em relação ao \textit{Single-Database Application} \cite{Ambler:RefactoringDatabases}.

	Conforma já citado um \textit{database refactoring} não é uma atividade simples então caso seja identificada a real necessidade de refatorar um banco de dados então pode-se usar o seguinte roteiro (processo) como guia:
	\begin{enumerate}
		\item Escolher o refactoring mais apropriado;
		\item Depreciar o esquema original;
		\item Testar antes, durante e após;
		\item Modificar esquema;
		\item Migrar os dados;
		\item Modificar código externo;
		\item Executar testes de regressão;
		\item Versionar seu trabalho;
		\item Anunciar o refactoring.
	\end{enumerate}


\Section{Objetivos}\label{sec:objetivos}

\subsection{Objetivo geral}




\Section{Solução proposta}

Este trabalho visa formar uma taxonomia para os \textit{database smells} e identificar os \textit{refactorings} mais adequados a serem aplicados para solucionar esse tipo de problema em bancos de dados. Para montar essa taxonomia serão realizados experimentos, e os resultados coletados formarão um catálogo de \textit{smells} e \textit{refactorings} em bancos de dados.

Os experimentos serão realizados utilizando bancos de dados de cenários distintos: OLTP (Online Transactional Processing), Web e DW (Data warehouse). Os bancos de dados serão fornecidos por empresas que tem interesse na solução proposta por este trabalho.

\Section{Cronograma de desenvolvimento}\label{sec:cronograma}

A Tabela \ref{tab:cronograma1} apresenta o cronograma de desenvolvimento do trabalho conforme a numeração das atividades abaixo:
\begin{enumerate}
	\item Estudo sobre \textit{database refactoring} e \textit{database smells};
	\item Montagem dos cenários de teste utilizando os bancos de dados fornecidos por terceiros;
	\item Estudo sobre taxonomia;
	\item Realização dos experimentos para identificação de \textit{smells} e aplicação de \textit{refactorings};
	\item Coleta dos resultados dos experimentos para definição de uma taxonomia e compor um catálogo de \textit{smells} e \textit{refactorings};
	\item Redação do artigo;
	\item Submissão do artigo para a banca;
\end{enumerate}

\begin{table}[h]
\begin{center}
	\caption{Cronograma de atividades para o trabalho. \label{tab:cronograma1}}
		\begin{tabular}{|c|c|c|c|c|c|c|}
			\hline			
			 \bf Atividade & \bf Jul/2014 & \bf Ago/2014 & \bf Set/2014 & \bf Out/2014 & \bf Nov/2014 & \bf Dez/2014  \\	\hline \hline
					 1 & x & x & x &   &   &   \\ \hline
					 2 & x & x &   &   &   &   \\ \hline
					 3 & x & x & x &   &   &   \\ \hline
					 4 &   & x & x & x & x &   \\ \hline
					 5 &   & x & x & x & x &   \\ \hline
					 6 &   &   & x & x & x &   \\ \hline
					 7 &   &   &   &   & x &   \\ \hline
		\end{tabular}
		\end{center}		
\end{table}


%\clearpage
\renewcommand\refname{Referências}

\bibliographystyle{cbic2011}
\bibliography{referencias}
\end{document}
